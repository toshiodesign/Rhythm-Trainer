(function() {
    if (!window.ALL_PATTERNS) window.ALL_PATTERNS = [];

    // --- Part 3: 16分音符進階變化 (Complex 16ths) ---
    const patterns = [
        {
            id: 'simple_16_8_16r',
            type: 'simple',
            name: '16+8+16休 (16th + 8th + 16th Rest)',
            events: [0, 0.25], // 0.75 是休止
            svg: `<svg viewBox="0 0 200 130"><g><path d="m51.83,29.19v59.2c0,2.03-.67,3.92-2.02,5.66-1.35,1.75-3.08,3.15-5.2,4.21-2.13,1.06-4.37,1.59-6.73,1.59-2.17,0-3.92-.55-5.24-1.66-1.32-1.11-1.98-2.61-1.98-4.5,0-1.46.43-2.88,1.27-4.25.85-1.37,1.97-2.61,3.36-3.72,1.39-1.11,2.91-1.98,4.57-2.62,1.65-.64,3.28-.96,4.89-.96,2.03,0,3.78.59,5.24,1.77V29.19h1.84Z"/><path d="m106.63,29.19v59.2c0,2.03-.67,3.92-2.02,5.66-1.35,1.75-3.08,3.15-5.2,4.21-2.13,1.06-4.37,1.59-6.73,1.59-2.17,0-3.92-.55-5.24-1.66-1.32-1.11-1.98-2.61-1.98-4.5,0-1.46.43-2.88,1.27-4.25.85-1.37,1.97-2.61,3.36-3.72,1.39-1.11,2.91-1.98,4.57-2.62,1.65-.64,3.28-.96,4.89-.96,2.03,0,3.78.59,5.24,1.77V29.19h1.84Z"/><rect x="49.99" y="29.19" width="56.64" height="5.53"/></g><rect x="49.99" y="40.25" width="28.32" height="5.53"/><path d="m153.41,98.6l6.8-24.08c-.99.9-2.11,1.53-3.36,1.91s-2.49.57-3.72.57c-2.03,0-3.73-.54-5.1-1.63-1.37-1.08-2.05-2.64-2.05-4.67,0-1.32.46-2.44,1.38-3.36.92-.92,2.13-1.38,3.65-1.38,1.37,0,2.49.44,3.36,1.31.87.87,1.31,2.04,1.31,3.5,0,1.04-.24,1.96-.71,2.76,0,.28.28.43.85.43,1.94,0,3.78-1.09,5.52-3.26l3.68-13.45c-.99.9-2.11,1.53-3.36,1.91s-2.49.57-3.72.57c-2.03,0-3.73-.54-5.1-1.63-1.37-1.08-2.05-2.64-2.05-4.67,0-1.32.47-2.44,1.42-3.36.94-.92,2.15-1.38,3.61-1.38s2.55.45,3.4,1.35c.85.9,1.27,2.05,1.27,3.47,0,.47-.07.96-.21,1.45-.14.5-.31.93-.5,1.31,0,.28.28.43.85.43,2.6,0,5.07-2.03,7.44-6.09h1.27l-13.38,48.01h-2.55Z"/></svg>`
        },
        {
            id: 'simple_16_r8_16',
            type: 'simple',
            name: '16+8休+16 (16th + 8th Rest + 16th)',
            events: [0, 0.75], // 中間 0.25~0.75 是休止
            svg: `<svg viewBox="0 0 200 130"><path d="m89.62,98.9l6.8-24.08c-.99.9-2.11,1.53-3.36,1.91-1.25.38-2.49.57-3.72.57-2.03,0-3.73-.54-5.1-1.63-1.37-1.08-2.05-2.64-2.05-4.67,0-1.32.47-2.44,1.42-3.36.94-.92,2.15-1.38,3.61-1.38,1.37,0,2.49.44,3.36,1.31.87.87,1.31,2.04,1.31,3.5,0,1.04-.24,1.96-.71,2.76,0,.28.28.43.85.43,2.59,0,5.07-2.03,7.43-6.09h1.28l-8.57,30.73h-2.55Z"/><g><path d="m45.95,30.38v59.2c0,2.03-.67,3.92-2.02,5.66-1.35,1.75-3.08,3.15-5.2,4.21s-4.37,1.59-6.73,1.59c-2.17,0-3.92-.55-5.24-1.66-1.32-1.11-1.98-2.61-1.98-4.5,0-1.46.43-2.88,1.27-4.25.85-1.37,1.97-2.61,3.36-3.72,1.39-1.11,2.91-1.98,4.57-2.62,1.65-.64,3.28-.96,4.89-.96,2.03,0,3.78.59,5.24,1.77V30.38h1.84Z"/><rect x="44.1" y="30.38" width="56.64" height="5.53"/></g><g><path d="m175.23,30.38v59.2c0,2.03-.67,3.92-2.02,5.66-1.35,1.75-3.08,3.15-5.2,4.21s-4.37,1.59-6.73,1.59c-2.17,0-3.92-.55-5.24-1.66-1.32-1.11-1.98-2.61-1.98-4.5,0-1.46.43-2.88,1.27-4.25.85-1.37,1.97-2.61,3.36-3.72,1.39-1.11,2.91-1.98,4.57-2.62,1.65-.64,3.28-.96,4.89-.96,2.03,0,3.78.59,5.24,1.77V30.38h1.84Z"/><rect x="100.1" y="30.38" width="75.12" height="5.53"/></g><rect x="44.14" y="41.45" width="28.32" height="5.53"/><rect x="146.91" y="41.45" width="28.32" height="5.53"/></svg>`
        },
        {
            id: 'simple_16_16_r8',
            type: 'simple',
            name: '16+16+8休 (Two 16ths + 8th Rest)',
            events: [0, 0.25], // 0.5 後是休止
            svg: `<svg viewBox="0 0 200 130"><path d="m131.46,81.32l6.8-24.08c-.99.9-2.11,1.53-3.36,1.91-1.25.38-2.49.57-3.72.57-2.03,0-3.73-.54-5.1-1.63-1.37-1.08-2.05-2.64-2.05-4.67,0-1.32.47-2.44,1.42-3.36.94-.92,2.15-1.38,3.61-1.38,1.37,0,2.49.44,3.36,1.31.87.87,1.31,2.04,1.31,3.5,0,1.04-.24,1.96-.71,2.76,0,.28.28.43.85.43,2.59,0,5.07-2.03,7.43-6.09h1.28l-8.57,30.73h-2.55Z"/><g><path d="m106.91,29.67v59.2c0,2.03-.67,3.92-2.02,5.66-1.35,1.75-3.08,3.15-5.2,4.21s-4.37,1.59-6.73,1.59c-2.17,0-3.92-.55-5.24-1.66-1.32-1.11-1.98-2.61-1.98-4.5,0-1.46.43-2.88,1.27-4.25.85-1.37,1.97-2.61,3.36-3.72,1.39-1.11,2.91-1.98,4.57-2.62,1.65-.64,3.28-.96,4.89-.96,2.03,0,3.78.59,5.24,1.77V29.67h1.84Z"/><path d="m78.6,29.67v59.2c0,2.03-.67,3.92-2.02,5.66-1.35,1.75-3.08,3.15-5.2,4.21-2.13,1.06-4.37,1.59-6.73,1.59-2.17,0-3.92-.55-5.24-1.66-1.32-1.11-1.98-2.61-1.98-4.5,0-1.46.43-2.88,1.27-4.25.85-1.37,1.97-2.61,3.36-3.72,1.39-1.11,2.91-1.98,4.57-2.62,1.65-.64,3.28-.96,4.89-.96,2.03,0,3.78.59,5.24,1.77V29.67h1.84Z"/><rect x="76.77" y="29.67" width="28.32" height="5.53"/><rect x="76.77" y="40.73" width="28.32" height="5.53"/></g></svg>`
        },
        {
            id: 'simple_16_16_16_16r',
            type: 'simple',
            name: '16+16+16+16休 (3 Notes + Rest)',
            events: [0, 0.25, 0.5], // 0.75 是休止
            svg: `<svg viewBox="0 0 200 130"><path d="m43.99,29.67v59.2c0,2.03-.67,3.92-2.02,5.66-1.35,1.75-3.08,3.15-5.2,4.21s-4.37,1.59-6.73,1.59c-2.17,0-3.92-.55-5.24-1.66-1.32-1.11-1.98-2.61-1.98-4.5,0-1.46.43-2.88,1.27-4.25.85-1.37,1.97-2.61,3.36-3.72,1.39-1.11,2.91-1.98,4.57-2.62,1.65-.64,3.28-.96,4.89-.96,2.03,0,3.78.59,5.24,1.77V29.67h1.84Z"/><rect x="42.15" y="29.67" width="56.64" height="5.53"/><path d="m127.11,29.67v59.2c0,2.03-.67,3.92-2.02,5.66-1.35,1.75-3.08,3.15-5.2,4.21-2.13,1.06-4.37,1.59-6.73,1.59-2.17,0-3.92-.55-5.24-1.66-1.32-1.11-1.98-2.61-1.98-4.5,0-1.46.43-2.88,1.27-4.25.85-1.37,1.97-2.61,3.36-3.72,1.39-1.11,2.91-1.98,4.57-2.62,1.65-.64,3.28-.96,4.89-.96,2.03,0,3.78.59,5.24,1.77V29.67h1.84Z"/><rect x="98.79" y="29.67" width="28.32" height="5.53"/><rect x="42.15" y="40.73" width="56.64" height="5.53"/><rect x="98.79" y="40.73" width="28.32" height="5.53"/><path d="m85.55,29.67v59.2c0,2.03-.67,3.92-2.02,5.66-1.35,1.75-3.08,3.15-5.2,4.21s-4.37,1.59-6.73,1.59c-2.17,0-3.92-.55-5.24-1.66-1.32-1.11-1.98-2.61-1.98-4.5,0-1.46.43-2.88,1.27-4.25.85-1.37,1.97-2.61,3.36-3.72,1.39-1.11,2.91-1.98,4.57-2.62,1.65-.64,3.28-.96,4.89-.96,2.03,0,3.78.59,5.24,1.77V29.67h1.84Z"/><path d="m161.25,98.6l6.8-24.08c-.99.9-2.11,1.53-3.36,1.91s-2.49.57-3.72.57c-2.03,0-3.73-.54-5.1-1.63-1.37-1.08-2.05-2.64-2.05-4.67,0-1.32.46-2.44,1.38-3.36.92-.92,2.13-1.38,3.65-1.38,1.37,0,2.49.44,3.36,1.31.87.87,1.31,2.04,1.31,3.5,0,1.04-.24,1.96-.71,2.76,0,.28.28.43.85.43,1.94,0,3.78-1.09,5.52-3.26l3.68-13.45c-.99.9-2.11,1.53-3.36,1.91s-2.49.57-3.72.57c-2.03,0-3.73-.54-5.1-1.63-1.37-1.08-2.05-2.64-2.05-4.67,0-1.32.47-2.44,1.42-3.36.94-.92,2.15-1.38,3.61-1.38s2.55.45,3.4,1.35c.85.9,1.27,2.05,1.27,3.47,0,.47-.07.96-.21,1.45-.14.5-.31.93-.5,1.31,0,.28.28.43.85.43,2.6,0,5.07-2.03,7.44-6.09h1.27l-13.38,48.01h-2.55Z"/></svg>`
        },
        {
            id: 'simple_16_16_16r_16',
            type: 'simple',
            name: '16+16+16休+16 (Note-Note-Rest-Note)',
            events: [0, 0.25, 0.75], // 0.5 是休止
            svg: `<svg viewBox="0 0 200 130"><path d="m112.7,111.03l6.8-24.08c-.99.9-2.11,1.53-3.36,1.91s-2.49.57-3.72.57c-2.03,0-3.73-.54-5.1-1.63-1.37-1.08-2.05-2.64-2.05-4.67,0-1.32.46-2.44,1.38-3.36.92-.92,2.13-1.38,3.65-1.38,1.37,0,2.49.44,3.36,1.31.87.87,1.31,2.04,1.31,3.5,0,1.04-.24,1.96-.71,2.76,0,.28.28.43.85.43,1.94,0,3.78-1.09,5.52-3.26l3.68-13.45c-.99.9-2.11,1.53-3.36,1.91s-2.49.57-3.72.57c-2.03,0-3.73-.54-5.1-1.63-1.37-1.08-2.05-2.64-2.05-4.67,0-1.32.47-2.44,1.42-3.36.94-.92,2.15-1.38,3.61-1.38s2.55.45,3.4,1.35c.85.9,1.27,2.05,1.27,3.47,0,.47-.07.96-.21,1.45-.14.5-.31.93-.5,1.31,0,.28.28.43.85.43,2.6,0,5.07-2.03,7.44-6.09h1.27l-13.38,48.01h-2.55Z"/><path d="m153.08,18.97v59.2c0,2.03-.67,3.92-2.02,5.66-1.35,1.75-3.08,3.15-5.2,4.21-2.13,1.06-4.37,1.59-6.73,1.59-2.17,0-3.92-.55-5.24-1.66-1.32-1.11-1.98-2.61-1.98-4.5,0-1.46.43-2.88,1.27-4.25.85-1.37,1.97-2.61,3.36-3.72,1.39-1.11,2.91-1.98,4.57-2.62,1.65-.64,3.28-.96,4.89-.96,2.03,0,3.78.59,5.24,1.77V18.97h1.84Z"/><path d="m68.05,18.97v59.2c0,2.03-.67,3.92-2.02,5.66-1.35,1.75-3.08,3.15-5.2,4.21s-4.37,1.59-6.73,1.59c-2.17,0-3.92-.55-5.24-1.66-1.32-1.11-1.98-2.61-1.98-4.5,0-1.46.43-2.88,1.27-4.25.85-1.37,1.97-2.61,3.36-3.72,1.39-1.11,2.91-1.98,4.57-2.62,1.65-.64,3.28-.96,4.89-.96,2.03,0,3.78.59,5.24,1.77V18.97h1.84Z"/><rect x="96.37" y="18.97" width="56.64" height="5.53"/><path d="m96.37,18.97v59.2c0,2.03-.67,3.92-2.02,5.66-1.35,1.75-3.08,3.15-5.2,4.21-2.13,1.06-4.37,1.59-6.73,1.59-2.17,0-3.92-.55-5.24-1.66-1.32-1.11-1.98-2.61-1.98-4.5,0-1.46.43-2.88,1.27-4.25.85-1.37,1.97-2.61,3.36-3.72,1.39-1.11,2.91-1.98,4.57-2.62,1.65-.64,3.28-.96,4.89-.96,2.03,0,3.78.59,5.24,1.77V18.97h1.84Z"/><rect x="68.05" y="18.97" width="28.32" height="5.53"/><rect x="68.05" y="30.03" width="85.07" height="5.53"/></svg>`
        }
    ];

    window.ALL_PATTERNS.push(...patterns);
})();